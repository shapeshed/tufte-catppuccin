{{ define "title" }}{{ .Title }} | {{ .Site.Title }}{{ end }}
{{ define "main" }}

<article>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "mainEntityOfPage":{
          "@type":"WebPage",
          "@id":"{{ .Site.BaseURL }}"
        },
        "headline": {{ .Title }},
        "image": {
          "@type": "ImageObject",
          "url": "{{ .Site.BaseURL }}images/george-700.jpg",
          "height": 700,
          "width": 700
        },
        "copyrightYear" : "{{ .Date.Format "2006" }}",
        "url" : "{{ .Permalink }}",
        "datePublished": "{{ .Date.Format "2006-01-02T15:04:05JST" }}",
        "dateModified": "{{ .Lastmod.Format "2006-01-02T15:04:05JST" }}",
        "author": {
          "@type": "Person",
          "name": "{{ .Site.Params.author }}",
          "image": "{{ .Site.BaseURL }}images/george-400.jpg"
        },
        "publisher": {
          "@type": "Organization",
          "name": "{{ .Site.Copyright }}",
          "logo": {
            "@type": "ImageObject",
            "url": "{{ .Site.BaseURL }}images/george-60.jpg",
            "height": 60,
            "width": 60
          }
        },
        "description": {{ .Description | html }},
        "timeRequired": "{{ .ReadingTime }} minutes",
        "wordCount": "{{ .WordCount }}",
        "articleBody": {{ .Content | html }},
        "keywords" : [ {{ range $i, $e := .Params.tags }}{{ if $i }}, {{ end }}{{ $e }}{{ end }} ]
      }
    </script>
  <h1>{{ .Title }}</h1>
  {{ with page.Description}}
  <p>{{ . }}</p>
  {{ end }}
  <aside class="three-row">
      <ul class="meta">
          <li><time datetime="{{ .PublishDate.Format "2006-01-02T15:04:05" }}" data-updated="true"><span class="uppercase">{{ .PublishDate.Format "January 2, 2006" }}</span></time></li>
          <li>Last updated <time datetime="{{ .Lastmod.Format "2006-01-02T15:04:05" }}" data-updated="true">{{ .Lastmod.Format "January 2, 2006" }}</time></li>
          <li>Estimated reading time: {{ .ReadingTime }} minutes </li>
          {{ range .Params.tags }}
          <li class="tag"><a href="/tags/{{ . | urlize }}">{{ . }}</a> </li>
          {{ end }}
      </ul>
  </aside>
  {{ .Content }}
{{ if not (in .Params.tags "Writing") }}
<p class="kaizen two-column">Can you help make this article better?
<a href="https://github.com/shapeshed/shapeshed.com/edit/main/content/{{ .File.Path }}">You can edit it here and send me a pull request.</a></p>

{{ if not (in .Params.tags "Writing") }}
{{ partial "recent-posts.html" . }}
{{ end }}
{{ end }}
</article>
{{ end }}
